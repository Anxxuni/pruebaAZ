<h2>Registrar Nuevo Estudiante</h2>

<form [formGroup]="estudianteForm" (ngSubmit)="onSubmit()" class="p-4 border rounded shadow-sm">

  <div class="mb-3">
    <label for="nombre" class="form-label">Nombre</label>
    <input type="text" class="form-control" id="nombre" formControlName="nombre"
           [class.is-invalid]="form['nombre'].invalid && (form['nombre'].dirty || form['nombre'].touched)">

    <div *ngIf="form['nombre'].invalid && (form['nombre'].dirty || form['nombre'].touched)" class="invalid-feedback">
      <div *ngIf="form['nombre'].errors?.['required']">El nombre es obligatorio.</div>
      <div *ngIf="form['nombre'].errors?.['minlength']">Debe tener al menos 3 caracteres.</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="carrera" class="form-label">Carrera</label>
    <input type="text" class="form-control" id="carrera" formControlName="carrera"
           [class.is-invalid]="form['carrera'].invalid && (form['carrera'].dirty || form['carrera'].touched)">
    <div *ngIf="form['carrera'].errors?.['required'] && (form['carrera'].dirty || form['carrera'].touched)" class="invalid-feedback">
      La carrera es obligatoria.
    </div>
  </div>

  <div class="mb-3">
    <label for="promedio" class="form-label">Promedio (0-10)</label>
    <input type="number" step="0.1" class="form-control" id="promedio" formControlName="promedio"
           [class.is-invalid]="form['promedio'].invalid && (form['promedio'].dirty || form['promedio'].touched)">

    <div *ngIf="form['promedio'].invalid && (form['promedio'].dirty || form['promedio'].touched)" class="invalid-feedback">
      <div *ngIf="form['promedio'].errors?.['required']">El promedio es obligatorio.</div>
      <div *ngIf="form['promedio'].errors?.['min'] || form['promedio'].errors?.['max']">El valor debe estar entre 0 y 10.</div>
    </div>
  </div>

  <button type="submit" class="btn btn-success" [disabled]="estudianteForm.invalid">
    <i class="bi bi-person-plus-fill me-2"></i> Registrar Estudiante
  </button>
  
  <div *ngIf="estudianteForm.invalid && estudianteForm.touched" class="alert alert-danger mt-3">
    Por favor, corrige los errores del formulario antes de continuar.
  </div>
</form>